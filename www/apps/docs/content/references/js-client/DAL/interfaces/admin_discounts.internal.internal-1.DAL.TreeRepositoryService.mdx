---
displayed_sidebar: jsClientSidebar
---

import ParameterTypes from "@site/src/components/ParameterTypes"

# TreeRepositoryService

[internal](../../internal/modules/admin_discounts.internal.internal-1.mdx).[DAL](../../internal-1/modules/admin_discounts.internal.internal-1.DAL.mdx).TreeRepositoryService

Data access layer (DAL) interface to implements for any repository service.
This layer helps to separate the business logic (service layer) from accessing the
ORM directly and allows to switch to another ORM without changing the business logic.

## Type parameters

<ParameterTypes parameters={[
  {
    "name": "T",
    "type": "`object`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  }
]} />

## Methods

### create

**create**(`data`, `context?`): `Promise`<`T`\>

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "data",
    "type": "`unknown`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  },
  {
    "name": "context",
    "type": "[`Context`](../../internal-1/interfaces/admin_discounts.internal.internal-1.Context.mdx)",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "children": []
  }
]} />

#### Returns

`Promise`<`T`\>

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "`Promise`<`T`\\>",
    "optional": false,
    "defaultValue": "",
    "description": "",
    "children": []
  }
]} />

___

### delete

**delete**(`id`, `context?`): `Promise`<`void`\>

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "id",
    "type": "`string`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  },
  {
    "name": "context",
    "type": "[`Context`](../../internal-1/interfaces/admin_discounts.internal.internal-1.Context.mdx)",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "children": []
  }
]} />

#### Returns

`Promise`<`void`\>

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "`Promise`<`void`\\>",
    "optional": false,
    "defaultValue": "",
    "description": "",
    "children": []
  }
]} />

___

### find

**find**(`options?`, `transformOptions?`, `context?`): `Promise`<`T`[]\>

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "options",
    "type": "[`FindOptions`](../../internal-1/modules/admin_discounts.internal.internal-1.DAL.mdx#findoptions)<`T`\\>",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "children": []
  },
  {
    "name": "transformOptions",
    "type": "[`RepositoryTransformOptions`](../../CommonTypes/interfaces/admin_discounts.internal.internal-1.CommonTypes.RepositoryTransformOptions.mdx)",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "children": []
  },
  {
    "name": "context",
    "type": "[`Context`](../../internal-1/interfaces/admin_discounts.internal.internal-1.Context.mdx)",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "children": []
  }
]} />

#### Returns

`Promise`<`T`[]\>

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "`Promise`<`T`[]\\>",
    "optional": false,
    "defaultValue": "",
    "description": "",
    "children": [
      {
        "name": "T[]",
        "type": "`T`[]",
        "optional": false,
        "defaultValue": "",
        "description": "",
        "children": []
      }
    ]
  }
]} />

___

### findAndCount

**findAndCount**(`options?`, `transformOptions?`, `context?`): `Promise`<[`T`[], `number`]\>

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "options",
    "type": "[`FindOptions`](../../internal-1/modules/admin_discounts.internal.internal-1.DAL.mdx#findoptions)<`T`\\>",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "children": []
  },
  {
    "name": "transformOptions",
    "type": "[`RepositoryTransformOptions`](../../CommonTypes/interfaces/admin_discounts.internal.internal-1.CommonTypes.RepositoryTransformOptions.mdx)",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "children": []
  },
  {
    "name": "context",
    "type": "[`Context`](../../internal-1/interfaces/admin_discounts.internal.internal-1.Context.mdx)",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "children": []
  }
]} />

#### Returns

`Promise`<[`T`[], `number`]\>

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "`Promise`<[`T`[], `number`]\\>",
    "optional": false,
    "defaultValue": "",
    "description": "",
    "children": [
      {
        "name": "T[]",
        "type": "`T`[]",
        "optional": false,
        "defaultValue": "",
        "description": "",
        "children": []
      },
      {
        "name": "number",
        "type": "`number`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "children": []
      }
    ]
  }
]} />

___

### getActiveManager

**getActiveManager**<`TManager`\>(): `TManager`

<ParameterTypes parameters={[
  {
    "name": "TManager",
    "type": "`object`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  }
]} />

#### Returns

`TManager`

<ParameterTypes parameters={[]} />

#### Inherited from

[BaseRepositoryService](../../internal/interfaces/admin_discounts.internal.BaseRepositoryService.mdx).[getActiveManager](../../internal/interfaces/admin_discounts.internal.BaseRepositoryService.mdx#getactivemanager)

___

### getFreshManager

**getFreshManager**<`TManager`\>(): `TManager`

<ParameterTypes parameters={[
  {
    "name": "TManager",
    "type": "`object`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  }
]} />

#### Returns

`TManager`

<ParameterTypes parameters={[]} />

#### Inherited from

[BaseRepositoryService](../../internal/interfaces/admin_discounts.internal.BaseRepositoryService.mdx).[getFreshManager](../../internal/interfaces/admin_discounts.internal.BaseRepositoryService.mdx#getfreshmanager)

___

### serialize

**serialize**<`TOutput`\>(`data`, `options?`): `Promise`<`TOutput`\>

<ParameterTypes parameters={[
  {
    "name": "TOutput",
    "type": "`object` \\| `object`[]",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  }
]} />

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "data",
    "type": "`any`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  },
  {
    "name": "options",
    "type": "`any`",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "children": []
  }
]} />

#### Returns

`Promise`<`TOutput`\>

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "`Promise`<`TOutput`\\>",
    "optional": false,
    "defaultValue": "",
    "description": "",
    "children": []
  }
]} />

#### Inherited from

[BaseRepositoryService](../../internal/interfaces/admin_discounts.internal.BaseRepositoryService.mdx).[serialize](../../internal/interfaces/admin_discounts.internal.BaseRepositoryService.mdx#serialize)

___

### transaction

**transaction**<`TManager`\>(`task`, `context?`): `Promise`<`any`\>

<ParameterTypes parameters={[
  {
    "name": "TManager",
    "type": "`object`",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  }
]} />

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "task",
    "type": "(`transactionManager`: `TManager`) => `Promise`<`any`\\>",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  },
  {
    "name": "context",
    "type": "`object`",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "children": []
  },
  {
    "name": "context.enableNestedTransactions",
    "type": "`boolean`",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "children": []
  },
  {
    "name": "context.isolationLevel",
    "type": "`string`",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "children": []
  },
  {
    "name": "context.transaction",
    "type": "`TManager`",
    "description": "",
    "optional": true,
    "defaultValue": "",
    "children": []
  }
]} />

#### Returns

`Promise`<`any`\>

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "`Promise`<`any`\\>",
    "optional": false,
    "defaultValue": "",
    "description": "",
    "children": [
      {
        "name": "any",
        "type": "`any`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "children": []
      }
    ]
  }
]} />

#### Inherited from

[BaseRepositoryService](../../internal/interfaces/admin_discounts.internal.BaseRepositoryService.mdx).[transaction](../../internal/interfaces/admin_discounts.internal.BaseRepositoryService.mdx#transaction)
