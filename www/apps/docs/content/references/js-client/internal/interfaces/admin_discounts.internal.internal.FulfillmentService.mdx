---
displayed_sidebar: jsClientSidebar
---

import ParameterTypes from "@site/src/components/ParameterTypes"

# FulfillmentService

[internal](../../admin_discounts/modules/admin_discounts.internal.mdx).[internal](../modules/admin_discounts.internal.internal.mdx).FulfillmentService

Fulfillment Provider interface
Fullfillment provider plugin services should extend the AbstractFulfillmentService from this file

## Implemented by

- [`AbstractFulfillmentService`](../classes/admin_discounts.internal.internal.AbstractFulfillmentService.mdx)

## Methods

### calculatePrice

**calculatePrice**(`optionData`, `data`, `cart`): `Promise`<`number`\>

Used to calculate a price for a given shipping option.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "optionData",
    "type": "[`ShippingOptionData`](../../admin_discounts/modules/admin_discounts.internal.mdx#shippingoptiondata)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  },
  {
    "name": "data",
    "type": "[`FulfillmentProviderData`](../../admin_discounts/modules/admin_discounts.internal.mdx#fulfillmentproviderdata)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  },
  {
    "name": "cart",
    "type": "[`Cart`](../classes/admin_collections.internal.Cart.mdx)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  }
]} />

#### Returns

`Promise`<`number`\>

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "`Promise`<`number`\\>",
    "optional": false,
    "defaultValue": "",
    "description": "",
    "children": [
      {
        "name": "number",
        "type": "`number`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "children": []
      }
    ]
  }
]} />

___

### canCalculate

**canCalculate**(`data`): `Promise`<`boolean`\>

Used to determine if a shipping option can have a calculated price

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "data",
    "type": "[`ShippingOptionData`](../../admin_discounts/modules/admin_discounts.internal.mdx#shippingoptiondata)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  }
]} />

#### Returns

`Promise`<`boolean`\>

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "`Promise`<`boolean`\\>",
    "optional": false,
    "defaultValue": "",
    "description": "",
    "children": [
      {
        "name": "boolean",
        "type": "`boolean`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "children": []
      }
    ]
  }
]} />

___

### cancelFulfillment

**cancelFulfillment**(`fulfillmentData`): `Promise`<`any`\>

Cancel a fulfillment using data from the fulfillment

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "fulfillmentData",
    "type": "[`FulfillmentProviderData`](../../admin_discounts/modules/admin_discounts.internal.mdx#fulfillmentproviderdata)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  }
]} />

#### Returns

`Promise`<`any`\>

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "`Promise`<`any`\\>",
    "optional": false,
    "defaultValue": "",
    "description": "",
    "children": [
      {
        "name": "any",
        "type": "`any`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "children": []
      }
    ]
  }
]} />

___

### createFulfillment

**createFulfillment**(`data`, `items`, `order`, `fulfillment`): `Promise`<[`FulfillmentProviderData`](../../admin_discounts/modules/admin_discounts.internal.mdx#fulfillmentproviderdata)\>

Create a fulfillment using data from shipping method, line items, and fulfillment. All from the order.
The returned value of this method will populate the `fulfillment.data` field.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "data",
    "type": "[`ShippingMethodData`](../../admin_discounts/modules/admin_discounts.internal.mdx#shippingmethoddata)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  },
  {
    "name": "items",
    "type": "[`LineItem`](../classes/admin_collections.internal.LineItem.mdx)[]",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  },
  {
    "name": "order",
    "type": "[`Order`](../classes/admin_collections.internal.Order.mdx)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  },
  {
    "name": "fulfillment",
    "type": "[`Fulfillment`](../classes/admin_collections.internal.Fulfillment.mdx)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  }
]} />

#### Returns

`Promise`<[`FulfillmentProviderData`](../../admin_discounts/modules/admin_discounts.internal.mdx#fulfillmentproviderdata)\>

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "`Promise`<[`FulfillmentProviderData`](../../admin_discounts/modules/admin_discounts.internal.mdx#fulfillmentproviderdata)\\>",
    "optional": false,
    "defaultValue": "",
    "description": "",
    "children": [
      {
        "name": "FulfillmentProviderData",
        "type": "Record<`string`, `unknown`\\>",
        "description": "",
        "optional": false,
        "defaultValue": "",
        "children": []
      }
    ]
  }
]} />

___

### createReturn

**createReturn**(`returnOrder`): `Promise`<Record<`string`, `unknown`\>\>

Used to create a return order. Should return the data necessary for future
operations on the return; in particular the data may be used to receive
documents attached to the return.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "returnOrder",
    "type": "[`CreateReturnType`](../../admin_discounts/modules/admin_discounts.internal.mdx#createreturntype)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  }
]} />

#### Returns

`Promise`<Record<`string`, `unknown`\>\>

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "`Promise`<Record<`string`, `unknown`\\>\\>",
    "optional": false,
    "defaultValue": "",
    "description": "",
    "children": [
      {
        "name": "Record",
        "type": "Record<`string`, `unknown`\\>",
        "optional": false,
        "defaultValue": "",
        "description": "",
        "children": [
          {
            "name": "string",
            "type": "`string`",
            "optional": true,
            "defaultValue": "",
            "description": "",
            "children": []
          },
          {
            "name": "unknown",
            "type": "`unknown`",
            "optional": true,
            "defaultValue": "",
            "description": "",
            "children": []
          }
        ]
      }
    ]
  }
]} />

___

### getFulfillmentDocuments

**getFulfillmentDocuments**(`data`): `Promise`<`any`\>

Used to retrieve documents associated with a fulfillment.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "data",
    "type": "[`FulfillmentProviderData`](../../admin_discounts/modules/admin_discounts.internal.mdx#fulfillmentproviderdata)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  }
]} />

#### Returns

`Promise`<`any`\>

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "`Promise`<`any`\\>",
    "optional": false,
    "defaultValue": "",
    "description": "",
    "children": [
      {
        "name": "any",
        "type": "`any`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "children": []
      }
    ]
  }
]} />

___

### getFulfillmentOptions

**getFulfillmentOptions**(): `Promise`<`any`[]\>

Called before a shipping option is created in Admin. The method should
return all of the options that the fulfillment provider can be used with,
and it is here the distinction between different shipping options are
enforced. For example, a fulfillment provider may offer Standard Shipping
and Express Shipping as fulfillment options, it is up to the store operator
to create shipping options in Medusa that are offered to the customer.

#### Returns

`Promise`<`any`[]\>

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "`Promise`<`any`[]\\>",
    "optional": false,
    "defaultValue": "",
    "description": "",
    "children": [
      {
        "name": "any[]",
        "type": "`any`[]",
        "optional": false,
        "defaultValue": "",
        "description": "",
        "children": [
          {
            "name": "any",
            "type": "`any`",
            "optional": true,
            "defaultValue": "",
            "description": "",
            "children": []
          }
        ]
      }
    ]
  }
]} />

___

### getIdentifier

**getIdentifier**(): `string`

Return a unique identifier to retrieve the fulfillment plugin provider

#### Returns

`string`

<ParameterTypes parameters={[
  {
    "name": "string",
    "type": "`string`",
    "optional": true,
    "defaultValue": "",
    "description": "",
    "children": []
  }
]} />

___

### getReturnDocuments

**getReturnDocuments**(`data`): `Promise`<`any`\>

Used to retrieve documents related to a return order.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "data",
    "type": "Record<`string`, `unknown`\\>",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  }
]} />

#### Returns

`Promise`<`any`\>

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "`Promise`<`any`\\>",
    "optional": false,
    "defaultValue": "",
    "description": "",
    "children": [
      {
        "name": "any",
        "type": "`any`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "children": []
      }
    ]
  }
]} />

___

### getShipmentDocuments

**getShipmentDocuments**(`data`): `Promise`<`any`\>

Used to retrieve documents related to a shipment.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "data",
    "type": "Record<`string`, `unknown`\\>",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  }
]} />

#### Returns

`Promise`<`any`\>

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "`Promise`<`any`\\>",
    "optional": false,
    "defaultValue": "",
    "description": "",
    "children": [
      {
        "name": "any",
        "type": "`any`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "children": []
      }
    ]
  }
]} />

___

### retrieveDocuments

**retrieveDocuments**(`fulfillmentData`, `documentType`): `Promise`<`any`\>

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "fulfillmentData",
    "type": "[`FulfillmentProviderData`](../../admin_discounts/modules/admin_discounts.internal.mdx#fulfillmentproviderdata)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  },
  {
    "name": "documentType",
    "type": "``\"label\"`` \\| ``\"invoice\"``",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  }
]} />

#### Returns

`Promise`<`any`\>

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "`Promise`<`any`\\>",
    "optional": false,
    "defaultValue": "",
    "description": "",
    "children": [
      {
        "name": "any",
        "type": "`any`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "children": []
      }
    ]
  }
]} />

___

### validateFulfillmentData

**validateFulfillmentData**(`optionData`, `data`, `cart`): `Promise`<Record<`string`, `unknown`\>\>

Called before a shipping method is set on a cart to ensure that the data
sent with the shipping method is valid. The data object may contain extra
data about the shipment such as an id of a drop point. It is up to the
fulfillment provider to enforce that the correct data is being sent
through.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "optionData",
    "type": "[`ShippingOptionData`](../../admin_discounts/modules/admin_discounts.internal.mdx#shippingoptiondata)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  },
  {
    "name": "data",
    "type": "[`FulfillmentProviderData`](../../admin_discounts/modules/admin_discounts.internal.mdx#fulfillmentproviderdata)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  },
  {
    "name": "cart",
    "type": "[`Cart`](../classes/admin_collections.internal.Cart.mdx)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  }
]} />

#### Returns

`Promise`<Record<`string`, `unknown`\>\>

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "`Promise`<Record<`string`, `unknown`\\>\\>",
    "optional": false,
    "defaultValue": "",
    "description": "the data to populate `cart.shipping_methods.$.data` this\n   is usually important for future actions like generating shipping labels",
    "children": [
      {
        "name": "Record",
        "type": "Record<`string`, `unknown`\\>",
        "optional": false,
        "defaultValue": "",
        "description": "",
        "children": [
          {
            "name": "string",
            "type": "`string`",
            "optional": true,
            "defaultValue": "",
            "description": "",
            "children": []
          },
          {
            "name": "unknown",
            "type": "`unknown`",
            "optional": true,
            "defaultValue": "",
            "description": "",
            "children": []
          }
        ]
      }
    ]
  }
]} />

___

### validateOption

**validateOption**(`data`): `Promise`<`boolean`\>

Called before a shipping option is created in Admin. Use this to ensure
that a fulfillment option does in fact exist.

#### Parameters

<ParameterTypes parameters={[
  {
    "name": "data",
    "type": "[`ShippingOptionData`](../../admin_discounts/modules/admin_discounts.internal.mdx#shippingoptiondata)",
    "description": "",
    "optional": false,
    "defaultValue": "",
    "children": []
  }
]} />

#### Returns

`Promise`<`boolean`\>

<ParameterTypes parameters={[
  {
    "name": "Promise",
    "type": "`Promise`<`boolean`\\>",
    "optional": false,
    "defaultValue": "",
    "description": "",
    "children": [
      {
        "name": "boolean",
        "type": "`boolean`",
        "optional": true,
        "defaultValue": "",
        "description": "",
        "children": []
      }
    ]
  }
]} />
